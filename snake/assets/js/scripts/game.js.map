{"version":3,"file":"game.js","names":["game","canvas","document","getElementById","context","getContext","grid","count","snake","x","y","dx","dy","cells","maxCells","apple","getRandomInt","min","max","Math","floor","random","restartGame","loop","requestAnimationFrame","clearRect","width","height","unshift","length","pop","fillStyle","fillRect","forEach","cell","index","i","addEventListener","e","code"],"sources":["scripts/game.js"],"sourcesContent":["const game = () => {\r\n    const canvas = document.getElementById('game'),\r\n          context = canvas.getContext('2d');\r\n\r\n    let grid = 16,\r\n        count = 0;\r\n\r\n    let snake = {\r\n        x: 160,\r\n        y: 160,\r\n        dx: grid,\r\n        dy: 0,\r\n        cells: [],\r\n        maxCells: 4\r\n    };\r\n\r\n    let apple = {\r\n        x: 320,\r\n        y: 320\r\n    };\r\n\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n\r\n    function restartGame(loop) {\r\n        snake.x = 160;\r\n        snake.y = 160;\r\n        snake.cells = [];\r\n        snake.maxCells = 4;\r\n        snake.dx = grid;\r\n        snake.dy = 0;\r\n        apple.x = getRandomInt(0, 25) * grid;\r\n        apple.y = getRandomInt(0, 25) * grid;\r\n    }\r\n\r\n    function loop() {\r\n\r\n        requestAnimationFrame(loop);\r\n\r\n\r\n        if (++count < 7) {\r\n            return;\r\n        }\r\n\r\n        count = 0;\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        snake.x += snake.dx;\r\n        snake.y += snake.dy;\r\n\r\n        if (snake.x < 0 || snake.x >= canvas.width || snake.y < 0 || snake.y >= canvas.height) {\r\n            restartGame();\r\n        }\r\n\r\n        snake.cells.unshift({\r\n            x: snake.x,\r\n            y: snake.y\r\n        });\r\n\r\n        if (snake.cells.length > snake.maxCells) {\r\n            snake.cells.pop();\r\n        }\r\n\r\n        context.fillStyle = 'red';\r\n        context.fillRect(apple.x, apple.y, grid - 1, grid - 1);\r\n        context.fillStyle = 'green';\r\n\r\n        snake.cells.forEach(function (cell, index) {\r\n            context.fillRect(cell.x, cell.y, grid - 1, grid - 1);\r\n            if (cell.x === apple.x && cell.y === apple.y) {\r\n                snake.maxCells++;\r\n                apple.x = getRandomInt(0, 25) * grid;\r\n                apple.y = getRandomInt(0, 25) * grid;\r\n            }\r\n            for (var i = index + 1; i < snake.cells.length; i++) {\r\n                if (cell.x === snake.cells[i].x && cell.y === snake.cells[i].y) {\r\n                    restartGame();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    document.addEventListener('keydown', function (e) {\r\n\r\n        if (e.code === 'ArrowLeft' && snake.dx === 0) {\r\n            snake.dx = -grid;\r\n            snake.dy = 0;\r\n        }\r\n        else if (e.code === 'ArrowUp' && snake.dy === 0) {\r\n            snake.dy = -grid;\r\n            snake.dx = 0;\r\n        }\r\n        else if (e.code === 'ArrowRight' && snake.dx === 0) {\r\n            snake.dx = grid;\r\n            snake.dy = 0;\r\n        }\r\n        else if (e.code === 'ArrowDown' && snake.dy === 0) {\r\n            snake.dy = grid;\r\n            snake.dx = 0;\r\n        }\r\n\r\n    });\r\n\r\n    requestAnimationFrame(loop);\r\n};\r\n\r\ngame();\r\n"],"mappings":"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"}