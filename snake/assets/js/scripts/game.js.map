{"version":3,"file":"game.js","names":["game","canvas","document","getElementById","context","getContext","mobileNav","querySelector","progress","grid","count","snake","x","y","dx","dy","cells","maxCells","apple","getRandomInt","min","max","Math","floor","random","restartGame","loop","textContent","length","requestAnimationFrame","clearRect","width","height","unshift","pop","fillStyle","fillRect","forEach","cell","index","i","addEventListener","e","code","target","classList","contains","closest"],"sources":["scripts/game.js"],"sourcesContent":["const game = () => {\r\n    const canvas = document.getElementById('game'),\r\n        context = canvas.getContext('2d'),\r\n        mobileNav = document.querySelector('.snake__navigation'),\r\n        progress = document.querySelector('#count');\r\n\r\n    let grid = 16,\r\n        count = 0;\r\n\r\n    let snake = {\r\n        x: 160,\r\n        y: 160,\r\n        dx: grid,\r\n        dy: 0,\r\n        cells: [],\r\n        maxCells: 4\r\n    };\r\n\r\n    let apple = {\r\n        x: 320,\r\n        y: 320\r\n    };\r\n\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n\r\n    function restartGame(loop) {\r\n        snake.x = 160;\r\n        snake.y = 160;\r\n        snake.cells = [];\r\n        progress.textContent = snake.cells.length;\r\n        snake.maxCells = 4;\r\n        snake.dx = grid;\r\n        snake.dy = 0;\r\n        apple.x = getRandomInt(0, 25) * grid;\r\n        apple.y = getRandomInt(0, 25) * grid;\r\n    }\r\n\r\n    function loop() {\r\n\r\n        requestAnimationFrame(loop);\r\n\r\n        if (++count < 7) {\r\n            return;\r\n        }\r\n\r\n        count = 0;\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        snake.x += snake.dx;\r\n        snake.y += snake.dy;\r\n\r\n        if (snake.x < 0 || snake.x >= canvas.width || snake.y < 0 || snake.y >= canvas.height) {\r\n            restartGame();\r\n        }\r\n\r\n        snake.cells.unshift({\r\n            x: snake.x,\r\n            y: snake.y\r\n        });\r\n\r\n        if (snake.cells.length > snake.maxCells) {\r\n            snake.cells.pop();\r\n        }\r\n\r\n        context.fillStyle = 'red';\r\n        context.fillRect(apple.x, apple.y, grid - 1, grid - 1);\r\n        context.fillStyle = 'green';\r\n\r\n        snake.cells.forEach(function (cell, index) {\r\n            context.fillRect(cell.x, cell.y, grid - 1, grid - 1);\r\n            if (cell.x === apple.x && cell.y === apple.y) {\r\n                snake.maxCells++;\r\n                progress.textContent = snake.cells.length - 3;\r\n                apple.x = getRandomInt(0, 25) * grid;\r\n                apple.y = getRandomInt(0, 25) * grid;\r\n\r\n            }\r\n            for (var i = index + 1; i < snake.cells.length; i++) {\r\n                if (cell.x === snake.cells[i].x && cell.y === snake.cells[i].y) {\r\n                    restartGame();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    document.addEventListener('keydown', function (e) {\r\n\r\n        if (e.code === 'ArrowLeft' && snake.dx === 0) {\r\n            snake.dx = -grid;\r\n            snake.dy = 0;\r\n        } else if (e.code === 'ArrowUp' && snake.dy === 0) {\r\n            snake.dy = -grid;\r\n            snake.dx = 0;\r\n        } else if (e.code === 'ArrowRight' && snake.dx === 0) {\r\n            snake.dx = grid;\r\n            snake.dy = 0;\r\n        } else if (e.code === 'ArrowDown' && snake.dy === 0) {\r\n            snake.dy = grid;\r\n            snake.dx = 0;\r\n        }\r\n\r\n    });\r\n\r\n    mobileNav.addEventListener('click', (e) => {\r\n        if ((e.target.classList.contains('snake__arrow-top') ||\r\n                e.target.closest('.snake__arrow-top')) && snake.dy === 0) {\r\n            snake.dy = -grid;\r\n            snake.dx = 0;\r\n        } else if ((e.target.classList.contains('snake__arrow-left') ||\r\n                e.target.closest('.snake__arrow-left')) && snake.dx === 0) {\r\n            snake.dx = -grid;\r\n            snake.dy = 0;\r\n        } else if ((e.target.classList.contains('snake__arrow-right') ||\r\n                e.target.closest('.snake__arrow-right')) && snake.dx === 0) {\r\n            snake.dx = grid;\r\n            snake.dy = 0;\r\n        } else if ((e.target.classList.contains('snake__arrow-down') ||\r\n                e.target.closest('.snake__arrow-down')) && snake.dy === 0) {\r\n            snake.dy = grid;\r\n            snake.dx = 0;\r\n        }\r\n    })\r\n\r\n    requestAnimationFrame(loop);\r\n};\r\n\r\ngame();\r\n"],"mappings":"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"}