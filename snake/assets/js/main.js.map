{"version":3,"sources":["scripts/game.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/PA","file":"main.js","sourcesContent":["const game = () => {\r\n    const canvas = document.getElementById('game'),\r\n        context = canvas.getContext('2d'),\r\n        mobileNav = document.querySelector('.snake__navigation'),\r\n        progress = document.querySelector('#count');\r\n\r\n    let grid = 16,\r\n        count = 0;\r\n\r\n    let snake = {\r\n        x: 160,\r\n        y: 160,\r\n        dx: grid,\r\n        dy: 0,\r\n        cells: [],\r\n        maxCells: 4\r\n    };\r\n\r\n    let apple = {\r\n        x: 320,\r\n        y: 320\r\n    };\r\n\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n\r\n    function restartGame(loop) {\r\n        snake.x = 160;\r\n        snake.y = 160;\r\n        snake.cells = [];\r\n        progress.textContent = snake.cells.length;\r\n        snake.maxCells = 4;\r\n        snake.dx = grid;\r\n        snake.dy = 0;\r\n        apple.x = getRandomInt(0, 25) * grid;\r\n        apple.y = getRandomInt(0, 25) * grid;\r\n    }\r\n\r\n    function loop() {\r\n\r\n        requestAnimationFrame(loop);\r\n\r\n        if (++count < 7) {\r\n            return;\r\n        }\r\n\r\n        count = 0;\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        snake.x += snake.dx;\r\n        snake.y += snake.dy;\r\n\r\n        if (snake.x < 0 || snake.x >= canvas.width || snake.y < 0 || snake.y >= canvas.height) {\r\n            restartGame();\r\n        }\r\n\r\n        snake.cells.unshift({\r\n            x: snake.x,\r\n            y: snake.y\r\n        });\r\n\r\n        if (snake.cells.length > snake.maxCells) {\r\n            snake.cells.pop();\r\n        }\r\n\r\n        context.fillStyle = 'red';\r\n        context.fillRect(apple.x, apple.y, grid - 1, grid - 1);\r\n        context.fillStyle = 'green';\r\n\r\n        snake.cells.forEach(function (cell, index) {\r\n            context.fillRect(cell.x, cell.y, grid - 1, grid - 1);\r\n            if (cell.x === apple.x && cell.y === apple.y) {\r\n                snake.maxCells++;\r\n                progress.textContent = snake.cells.length - 3;\r\n                apple.x = getRandomInt(0, 25) * grid;\r\n                apple.y = getRandomInt(0, 25) * grid;\r\n\r\n            }\r\n            for (var i = index + 1; i < snake.cells.length; i++) {\r\n                if (cell.x === snake.cells[i].x && cell.y === snake.cells[i].y) {\r\n                    restartGame();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    document.addEventListener('keydown', function (e) {\r\n\r\n        if (e.code === 'ArrowLeft' && snake.dx === 0) {\r\n            snake.dx = -grid;\r\n            snake.dy = 0;\r\n        } else if (e.code === 'ArrowUp' && snake.dy === 0) {\r\n            snake.dy = -grid;\r\n            snake.dx = 0;\r\n        } else if (e.code === 'ArrowRight' && snake.dx === 0) {\r\n            snake.dx = grid;\r\n            snake.dy = 0;\r\n        } else if (e.code === 'ArrowDown' && snake.dy === 0) {\r\n            snake.dy = grid;\r\n            snake.dx = 0;\r\n        }\r\n\r\n    });\r\n\r\n    mobileNav.addEventListener('click', (e) => {\r\n        if ((e.target.classList.contains('snake__arrow-top') ||\r\n                e.target.closest('.snake__arrow-top')) && snake.dy === 0) {\r\n            snake.dy = -grid;\r\n            snake.dx = 0;\r\n        } else if ((e.target.classList.contains('snake__arrow-left') ||\r\n                e.target.closest('.snake__arrow-left')) && snake.dx === 0) {\r\n            snake.dx = -grid;\r\n            snake.dy = 0;\r\n        } else if ((e.target.classList.contains('snake__arrow-right') ||\r\n                e.target.closest('.snake__arrow-right')) && snake.dx === 0) {\r\n            snake.dx = grid;\r\n            snake.dy = 0;\r\n        } else if ((e.target.classList.contains('snake__arrow-down') ||\r\n                e.target.closest('.snake__arrow-down')) && snake.dy === 0) {\r\n            snake.dy = grid;\r\n            snake.dx = 0;\r\n        }\r\n    })\r\n\r\n    requestAnimationFrame(loop);\r\n};\r\n\r\ngame();\r\n","// =require scripts/game.js"]}